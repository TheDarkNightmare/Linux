pkgname=razer-kde-cinterface
pkgver=1.0
pkgrel=1
pkgdesc="Interface for Razer devices with KDE Control Module"
arch=('any')
url="https://github.com/username/razer-cli"
license=('MIT')
depends=('python' 'python-pip' 'kde-cli-tools' 'openrazer-daemon' 'xorg-xrdb')

package() {
    # Install razer-cli
    mkdir -p "$pkgdir/usr"
    cd "$srcdir"
    sudo pip install --target="$pkgdir/usr" razer-cli

    # Install KCM files
    install -Dm644 razer-x.desktop "$pkgdir/usr/share/kde4/services/"
    install -Dm644 config.ui "$pkgdir/usr/share/kde4/apps/razer-cli/"
}

post_install() {
    ./razer-config.sh configure
}

post_remove() {
    ./razer-config.sh remove
}
